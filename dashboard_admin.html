<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel del Administrador - Confio</title>
    <link rel="stylesheet" href="dashboard_admin.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <div class="logo">
                    <div class="shield-icon">‚öôÔ∏è</div>
                    Confio - Panel Admin
                </div>
            </div>
            <div class="header-right">
                <div class="admin-actions">
                    <button class="btn-notification">
                        üîî
                        <span class="notification-badge">5</span>
                    </button>
                </div>
                <div class="user-menu">
                    <span class="user-name">Nombre Usuario</span>
                    <div class="user-avatar">NU</div>
                    <div class="dropdown-menu">
                        <a href="#perfil">üë§ Mi Perfil</a>
                        <a href="#configuracion">‚öôÔ∏è Configuraci√≥n</a>
                        <!-- AQU√ç CAMBIAR: -->
                        <a href="#logout" class="logout" onclick="logout()">üö™ Cerrar Sesi√≥n</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Sidebar -->
        <nav class="sidebar">
            <ul class="nav-links">
                <li class="nav-item active">
                    <a href="#dashboard" onclick="showSection('dashboard')">
                        üìä Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#usuarios" onclick="showSection('usuarios')">
                        üë• Usuarios
                        <span class="nav-badge">12</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#productos" onclick="showSection('productos')">
                        üì¶ Productos
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#ventas" onclick="showSection('ventas')">
                        üí∞ Ventas
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#reputacion" onclick="showSection('reputacion')">
                        ‚≠ê Reputaci√≥n
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#moderacion" onclick="showSection('moderacion')">
                        üõ°Ô∏è Moderaci√≥n
                        <span class="nav-badge">8</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#configuracion" onclick="showSection('configuracion')">
                        ‚öôÔ∏è Configuraci√≥n
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <div class="admin-stats">
                    <div class="admin-stat">
                        <span class="stat-label">Sistema</span>
                        <span class="stat-value online">üü¢ Online</span>
                    </div>
                    <div class="admin-stat">
                        <span class="stat-label">√öltima actividad</span>
                        <span class="stat-value">Hace 2 min</span>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content - Dashboard -->
        <main class="main-content" id="dashboard-section">
            <div class="welcome-section">
                <h1>Bienvenido, Administrador üëã</h1>
                <p>Resumen general de la plataforma Confio</p>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon total-users">üë•</div>
                    <div class="stat-info">
                        <h3>Total Usuarios</h3>
                        <span class="stat-number">2,847</span>
                        <div class="stat-breakdown">
                            <span class="breakdown-item">
                                <span class="breakdown-dot comprador"></span>
                                Compradores: 2,154
                            </span>
                            <span class="breakdown-item">
                                <span class="breakdown-dot vendedor"></span>
                                Vendedores: 693
                            </span>
                        </div>
                        <span class="stat-change positive">+12% este mes</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon total-products">üì¶</div>
                    <div class="stat-info">
                        <h3>Total Productos</h3>
                        <span class="stat-number">15,238</span>
                        <div class="stat-breakdown">
                            <span class="breakdown-item">
                                <span class="breakdown-dot active"></span>
                                Activos: 14,892
                            </span>
                            <span class="breakdown-item">
                                <span class="breakdown-dot inactive"></span>
                                Inactivos: 346
                            </span>
                        </div>
                        <span class="stat-change positive">+8% este mes</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon total-sales">üí∞</div>
                    <div class="stat-info">
                        <h3>Total Ventas</h3>
                        <span class="stat-number">$1.2M</span>
                        <div class="stat-breakdown">
                            <span class="breakdown-item">
                                <span class="breakdown-dot completed"></span>
                                Completadas: 8,742
                            </span>
                            <span class="breakdown-item">
                                <span class="breakdown-dot pending"></span>
                                Pendientes: 156
                            </span>
                        </div>
                        <span class="stat-change positive">+15% este mes</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon reputation">‚≠ê</div>
                    <div class="stat-info">
                        <h3>Reputaci√≥n Global</h3>
                        <span class="stat-number">4.6/5</span>
                        <div class="rating-distribution">
                            <div class="rating-bar">
                                <span>5‚òÖ</span>
                                <div class="bar-container">
                                    <div class="bar-fill" style="width: 65%"></div>
                                </div>
                                <span>65%</span>
                            </div>
                            <div class="rating-bar">
                                <span>4‚òÖ</span>
                                <div class="bar-container">
                                    <div class="bar-fill" style="width: 25%"></div>
                                </div>
                                <span>25%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-section">
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>üìà Crecimiento de Usuarios</h3>
                        <select class="chart-filter">
                            <option>√öltimos 30 d√≠as</option>
                            <option>√öltimos 7 d√≠as</option>
                            <option>√öltimos 90 d√≠as</option>
                        </select>
                    </div>
                    <div class="chart-placeholder">
                        <div class="chart-bars">
                            <div class="chart-bar" style="height: 60%">
                                <span class="bar-label">2.1k</span>
                            </div>
                            <div class="chart-bar" style="height: 75%">
                                <span class="bar-label">2.3k</span>
                            </div>
                            <div class="chart-bar" style="height: 85%">
                                <span class="bar-label">2.5k</span>
                            </div>
                            <div class="chart-bar" style="height: 95%">
                                <span class="bar-label">2.8k</span>
                            </div>
                        </div>
                        <div class="chart-labels">
                            <span>Sem 1</span>
                            <span>Sem 2</span>
                            <span>Sem 3</span>
                            <span>Sem 4</span>
                        </div>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <h3>üí∞ Distribuci√≥n de Ventas</h3>
                        <select class="chart-filter">
                            <option>Por categor√≠a</option>
                            <option>Por vendedor</option>
                            <option>Por regi√≥n</option>
                        </select>
                    </div>
                    <div class="chart-placeholder">
                        <div class="pie-chart">
                            <div class="pie-segment electronics" style="--percentage: 35%;"></div>
                            <div class="pie-segment fashion" style="--percentage: 25%;"></div>
                            <div class="pie-segment home" style="--percentage: 20%;"></div>
                            <div class="pie-segment other" style="--percentage: 20%;"></div>
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-color electronics"></span>
                                <span>Electr√≥nica: 35%</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color fashion"></span>
                                <span>Moda: 25%</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color home"></span>
                                <span>Hogar: 20%</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color other"></span>
                                <span>Otros: 20%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity">
                <div class="section-header">
                    <h2>üïí Actividad Reciente</h2>
                    <button class="btn-view-all">Ver todo</button>
                </div>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon new-user">üë§</div>
                        <div class="activity-content">
                            <p><strong>Nuevo usuario registrado:</strong> Mar√≠a Gonz√°lez (Comprador)</p>
                            <span class="activity-time">Hace 5 minutos</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon new-product">üì¶</div>
                        <div class="activity-content">
                            <p><strong>Nuevo producto publicado:</strong> iPhone 14 Pro por TechStore</p>
                            <span class="activity-time">Hace 12 minutos</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon sale">üí∞</div>
                        <div class="activity-content">
                            <p><strong>Venta completada:</strong> $245.99 - Zapatos Nike</p>
                            <span class="activity-time">Hace 25 minutos</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon report">‚ö†Ô∏è</div>
                        <div class="activity-content">
                            <p><strong>Reporte recibido:</strong> Usuario "Juan123" por comportamiento sospechoso</p>
                            <span class="activity-time">Hace 1 hora</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Main Content - Usuarios -->
        <main class="main-content" id="usuarios-section" style="display: none;">
            <div class="section-header">
                <h1>üë• Gesti√≥n de Usuarios</h1>
                <div class="header-actions">
                    <input type="text" placeholder="Buscar usuario..." class="search-input">
                    <select class="filter-select">
                        <option>Todos los usuarios</option>
                        <option>Compradores</option>
                        <option>Vendedores</option>
                        <option>Suspendidos</option>
                    </select>
                </div>
            </div>

            <div class="users-table-container">
                <table class="users-table">
                    <thead>
                        <tr>
                            <th>Usuario</th>
                            <th>Tipo</th>
                            <th>Registro</th>
                            <th>Estado</th>
                            <th>Reputaci√≥n</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="user-cell">
                                    <div class="user-avatar">MG</div>
                                    <div class="user-info">
                                        <span class="user-name">Mar√≠a Gonz√°lez</span>
                                        <span class="user-email">maria@email.com</span>
                                    </div>
                                </div>
                            </td>
                            <td><span class="user-type comprador">Comprador</span></td>
                            <td>15 Dic, 2024</td>
                            <td><span class="status-badge active">Activo</span></td>
                            <td>
                                <div class="reputation-score">
                                    <span class="rating">4.8</span>
                                    <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                </div>
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-action view" onclick="viewUserDetails(1)">üëÅÔ∏è</button>
                                    <button class="btn-action suspend" onclick="suspendUser(1)">‚è∏Ô∏è</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="user-cell">
                                    <div class="user-avatar">TS</div>
                                    <div class="user-info">
                                        <span class="user-name">TechStore</span>
                                        <span class="user-email">tech@store.com</span>
                                    </div>
                                </div>
                            </td>
                            <td><span class="user-type vendedor">Vendedor</span></td>
                            <td>10 Nov, 2024</td>
                            <td><span class="status-badge active">Activo</span></td>
                            <td>
                                <div class="reputation-score">
                                    <span class="rating">4.6</span>
                                    <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                </div>
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-action view" onclick="viewUserDetails(2)">üëÅÔ∏è</button>
                                    <button class="btn-action suspend" onclick="suspendUser(2)">‚è∏Ô∏è</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="user-cell">
                                    <div class="user-avatar">JR</div>
                                    <div class="user-info">
                                        <span class="user-name">Juan Rodr√≠guez</span>
                                        <span class="user-email">juan@email.com</span>
                                    </div>
                                </div>
                            </td>
                            <td><span class="user-type comprador">Comprador</span></td>
                            <td>05 Dic, 2024</td>
                            <td><span class="status-badge suspended">Suspendido</span></td>
                            <td>
                                <div class="reputation-score">
                                    <span class="rating">2.1</span>
                                    <span class="stars">‚≠ê‚≠ê</span>
                                </div>
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-action view" onclick="viewUserDetails(3)">üëÅÔ∏è</button>
                                    <button class="btn-action activate" onclick="activateUser(3)">‚ñ∂Ô∏è</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>

        <!-- Main Content - Moderaci√≥n -->
        <main class="main-content" id="moderacion-section" style="display: none;">
            <div class="section-header">
                <h1>üõ°Ô∏è Centro de Moderaci√≥n</h1>
                <div class="moderation-stats">
                    <div class="mod-stat">
                        <span class="mod-stat-number">8</span>
                        <span class="mod-stat-label">Reportes Pendientes</span>
                    </div>
                    <div class="mod-stat">
                        <span class="mod-stat-number">3</span>
                        <span class="mod-stat-label">Usuarios Sospechosos</span>
                    </div>
                </div>
            </div>

            <div class="moderation-tabs">
                <button class="tab-button active" onclick="openModerationTab('reports')">üìã Reportes</button>
                <button class="tab-button" onclick="openModerationTab('suspicious')">üëÅÔ∏è Usuarios Sospechosos</button>
                <button class="tab-button" onclick="openModerationTab('reviews')">‚≠ê Calificaciones</button>
            </div>

            <div class="moderation-content">
                <!-- Reportes Pendientes -->
                <div id="reports-tab" class="tab-content active">
                    <div class="reports-list">
                        <div class="report-card">
                            <div class="report-header">
                                <span class="report-id">#REP-7842</span>
                                <span class="report-date">Hoy, 14:30</span>
                            </div>
                            <div class="report-details">
                                <div class="reported-user">
                                    <strong>Usuario reportado:</strong> Juan123
                                </div>
                                <div class="report-reason">
                                    <strong>Motivo:</strong> Comportamiento sospechoso - M√∫ltiples cuentas
                                </div>
                                <div class="report-description">
                                    <strong>Descripci√≥n:</strong> Usuario crea m√∫ltiples cuentas para evadir bloqueos anteriores
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn-danger" onclick="blockUser('Juan123')">üö´ Bloquear Usuario</button>
                                <button class="btn-secondary" onclick="dismissReport('REP-7842')">‚úÖ Desestimar</button>
                                <button class="btn-primary" onclick="investigateReport('REP-7842')">üîç Investigar</button>
                            </div>
                        </div>

                        <div class="report-card">
                            <div class="report-header">
                                <span class="report-id">#REP-7841</span>
                                <span class="report-date">Ayer, 16:45</span>
                            </div>
                            <div class="report-details">
                                <div class="reported-user">
                                    <strong>Usuario reportado:</strong> TechStore
                                </div>
                                <div class="report-reason">
                                    <strong>Motivo:</strong> Producto falsificado
                                </div>
                                <div class="report-description">
                                    <strong>Descripci√≥n:</strong> Vende productos electr√≥nicos que parecen ser falsificados
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn-warning" onclick="suspendUserTemporary('TechStore')">‚è∏Ô∏è Suspender Temporalmente</button>
                                <button class="btn-secondary" onclick="dismissReport('REP-7841')">‚úÖ Desestimar</button>
                                <button class="btn-primary" onclick="investigateReport('REP-7841')">üîç Investigar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Usuarios Sospechosos -->
                <div id="suspicious-tab" class="tab-content">
                    <div class="suspicious-users-list">
                        <div class="suspicious-user-card">
                            <div class="user-info">
                                <div class="user-avatar">JR</div>
                                <div class="user-details">
                                    <h4>Juan Rodr√≠guez</h4>
                                    <p>3 reportes ‚Ä¢ Reputaci√≥n: 2.1/5</p>
                                    <div class="risk-indicator high-risk">üî¥ Alto Riesgo</div>
                                </div>
                            </div>
                            <div class="suspicious-actions">
                                <button class="btn-danger" onclick="blockUser('Juan Rodr√≠guez')">üö´ Bloquear Permanentemente</button>
                                <button class="btn-warning" onclick="suspendUserTemporary('Juan Rodr√≠guez')">‚è∏Ô∏è Suspender 30 d√≠as</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calificaciones -->
                <div id="reviews-tab" class="tab-content">
                    <div class="reviews-list">
                        <div class="review-card questionable">
                            <div class="review-header">
                                <span class="reviewer">Usuario: Ana123</span>
                                <span class="review-date">15 Dic, 2024</span>
                            </div>
                            <div class="review-content">
                                <div class="review-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                                <p class="review-text">"Excelente producto, todo perfecto"</p>
                                <div class="review-meta">
                                    <span>Producto: iPhone 14 Pro</span>
                                    <span>Vendedor: TechStore</span>
                                </div>
                            </div>
                            <div class="review-flags">
                                <span class="flag">üö© Posible falsa</span>
                                <span class="flag">‚ö†Ô∏è Patr√≥n sospechoso</span>
                            </div>
                            <div class="review-actions">
                                <button class="btn-danger" onclick="deleteReview(1)">üóëÔ∏è Eliminar Rese√±a</button>
                                <button class="btn-secondary" onclick="markReviewValid(1)">‚úÖ Marcar como V√°lida</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Secciones adicionales (simplificadas) -->
        <main class="main-content" id="productos-section" style="display: none;">
            <div class="section-header">
                <h1>üì¶ Gesti√≥n de Productos</h1>
                <p>Gesti√≥n completa del cat√°logo de productos</p>
            </div>
            <div class="empty-state">
                <div class="empty-icon">üì¶</div>
                <h3>M√≥dulo de Productos</h3>
                <p>Gestiona todos los productos de la plataforma</p>
            </div>
        </main>

        <main class="main-content" id="ventas-section" style="display: none;">
            <div class="section-header">
                <h1>üí∞ Reportes de Ventas</h1>
                <p>An√°lisis detallado de ventas y transacciones</p>
            </div>
            <div class="empty-state">
                <div class="empty-icon">üí∞</div>
                <h3>M√≥dulo de Ventas</h3>
                <p>Reportes y an√°lisis de todas las transacciones</p>
            </div>
        </main>

        <main class="main-content" id="reputacion-section" style="display: none;">
            <div class="section-header">
                <h1>‚≠ê Sistema de Reputaci√≥n</h1>
                <p>Gesti√≥n y an√°lisis del sistema de reputaci√≥n</p>
            </div>
            <div class="empty-state">
                <div class="empty-icon">‚≠ê</div>
                <h3>M√≥dulo de Reputaci√≥n</h3>
                <p>Analiza y gestiona el sistema de reputaci√≥n global</p>
            </div>
        </main>

        <main class="main-content" id="configuracion-section" style="display: none;">
            <div class="section-header">
                <h1>‚öôÔ∏è Configuraci√≥n del Sistema</h1>
                <p>Configuraci√≥n global de la plataforma</p>
            </div>
            <div class="empty-state">
                <div class="empty-icon">‚öôÔ∏è</div>
                <h3>Configuraci√≥n del Sistema</h3>
                <p>Configura los par√°metros globales de Confio</p>
            </div>
        </main>
    </div>

    <script src="dashboard_admin.js"></script>
</body>
</html>